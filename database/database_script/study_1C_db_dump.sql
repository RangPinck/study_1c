--
-- PostgreSQL database dump
--

-- Dumped from database version 17.4 (Debian 17.4-1.pgdg120+2)
-- Dumped by pg_dump version 17.4 (Debian 17.4-1.pgdg120+2)
\connect study_1С_db
SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET transaction_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- Name: public; Type: SCHEMA; Schema: -; Owner: admin
--

-- *not* creating schema, since initdb creates it


ALTER SCHEMA public OWNER TO admin;

--
-- Name: SCHEMA public; Type: COMMENT; Schema: -; Owner: admin
--

COMMENT ON SCHEMA public IS '';


SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: AspNetRoles; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public."AspNetRoles" (
    "Id" uuid NOT NULL,
    "IsNoManipulate" boolean NOT NULL,
    "Name" character varying(256),
    "NormalizedName" character varying(256),
    "ConcurrencyStamp" text
);


ALTER TABLE public."AspNetRoles" OWNER TO admin;

--
-- Name: AspNetUserRoles; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public."AspNetUserRoles" (
    "UserId" uuid NOT NULL,
    "RoleId" uuid NOT NULL
);


ALTER TABLE public."AspNetUserRoles" OWNER TO admin;

--
-- Name: AspNetUsers; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public."AspNetUsers" (
    "Id" uuid NOT NULL,
    "UserDataCreate" timestamp with time zone NOT NULL,
    "UserName" character varying(256),
    "NormalizedUserName" character varying(256),
    "Email" character varying(256),
    "NormalizedEmail" character varying(256),
    "EmailConfirmed" boolean NOT NULL,
    "PasswordHash" text,
    "SecurityStamp" text,
    "ConcurrencyStamp" text,
    "PhoneNumber" text,
    "PhoneNumberConfirmed" boolean NOT NULL,
    "TwoFactorEnabled" boolean NOT NULL,
    "LockoutEnd" timestamp with time zone,
    "LockoutEnabled" boolean NOT NULL,
    "AccessFailedCount" integer NOT NULL
);


ALTER TABLE public."AspNetUsers" OWNER TO admin;

--
-- Name: __EFMigrationsHistory; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public."__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL
);


ALTER TABLE public."__EFMigrationsHistory" OWNER TO admin;

--
-- Name: blocks_materials; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.blocks_materials (
    bm_id uuid DEFAULT gen_random_uuid() NOT NULL,
    block uuid NOT NULL,
    material uuid NOT NULL,
    bm_date_create timestamp with time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    note text,
    duration integer
);


ALTER TABLE public.blocks_materials OWNER TO admin;

--
-- Name: blocks_tasks; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.blocks_tasks (
    task_id uuid DEFAULT gen_random_uuid() NOT NULL,
    task_name text NOT NULL,
    task_date_created timestamp with time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    duration integer NOT NULL,
    block uuid NOT NULL,
    link text,
    task_number_of_block integer NOT NULL,
    description text
);


ALTER TABLE public.blocks_tasks OWNER TO admin;

--
-- Name: courses; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.courses (
    course_id uuid DEFAULT gen_random_uuid() NOT NULL,
    course_name text NOT NULL,
    course_data_create timestamp with time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    description text,
    link text,
    author uuid NOT NULL
);


ALTER TABLE public.courses OWNER TO admin;

--
-- Name: courses_blocks; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.courses_blocks (
    block_id uuid DEFAULT gen_random_uuid() NOT NULL,
    block_name text NOT NULL,
    block_date_created timestamp with time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    course uuid NOT NULL,
    description text,
    block_number_of_course integer
);


ALTER TABLE public.courses_blocks OWNER TO admin;

--
-- Name: material_type; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.material_type (
    type_id integer NOT NULL,
    type_name text NOT NULL
);


ALTER TABLE public.material_type OWNER TO admin;

--
-- Name: material_type_type_id_seq; Type: SEQUENCE; Schema: public; Owner: admin
--

ALTER TABLE public.material_type ALTER COLUMN type_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.material_type_type_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: materials; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.materials (
    material_id uuid DEFAULT gen_random_uuid() NOT NULL,
    material_name text NOT NULL,
    material_date_create timestamp with time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    link text,
    type integer NOT NULL,
    description text
);


ALTER TABLE public.materials OWNER TO admin;

--
-- Name: study_states; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.study_states (
    state_id integer NOT NULL,
    state_name text NOT NULL
);


ALTER TABLE public.study_states OWNER TO admin;

--
-- Name: study_states_state_id_seq; Type: SEQUENCE; Schema: public; Owner: admin
--

ALTER TABLE public.study_states ALTER COLUMN state_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.study_states_state_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: tasks_practice; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.tasks_practice (
    practice_id uuid DEFAULT gen_random_uuid() NOT NULL,
    practice_name text NOT NULL,
    practice_date_created timestamp with time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    duration integer NOT NULL,
    link text,
    task uuid NOT NULL,
    number_practice_of_task integer
);


ALTER TABLE public.tasks_practice OWNER TO admin;

--
-- Name: users; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.users (
    user_id uuid DEFAULT gen_random_uuid() NOT NULL,
    user_surname text NOT NULL,
    user_name text NOT NULL,
    user_patronymic text,
    is_first boolean DEFAULT true NOT NULL
);


ALTER TABLE public.users OWNER TO admin;

--
-- Name: users_courses; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.users_courses (
    cu_id uuid DEFAULT gen_random_uuid() NOT NULL,
    "CourseId" uuid NOT NULL,
    "UserId" uuid NOT NULL
);


ALTER TABLE public.users_courses OWNER TO admin;

--
-- Name: users_tasks; Type: TABLE; Schema: public; Owner: admin
--

CREATE TABLE public.users_tasks (
    ut_id uuid DEFAULT gen_random_uuid() NOT NULL,
    auth_user uuid NOT NULL,
    task uuid,
    practice uuid,
    material uuid,
    status integer NOT NULL,
    date_start timestamp with time zone NOT NULL,
    duration_task integer NOT NULL,
    duration_practice integer NOT NULL,
    duration_material integer NOT NULL
);


ALTER TABLE public.users_tasks OWNER TO admin;

--
-- Data for Name: AspNetRoles; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public."AspNetRoles" ("Id", "IsNoManipulate", "Name", "NormalizedName", "ConcurrencyStamp") FROM stdin;
f47ac10b-58cc-4372-a567-0e02b2c3d479	t	Ученик	УЧЕНИК	f47ac10b-58cc-4372-a567-0e02b2c3d479
c9eb182b-1c3e-4c3b-8c3e-1c3e4c3b8c3e	t	Куратор	КУРАТОР	c9eb182b-1c3e-4c3b-8c3e-1c3e4c3b8c3e
f45d2396-3e72-4ec7-b892-7bd454248158	t	Администратор	АДМИНИСТРАТОР	f45d2396-3e72-4ec7-b892-7bd454248158
\.


--
-- Data for Name: AspNetUserRoles; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public."AspNetUserRoles" ("UserId", "RoleId") FROM stdin;
33b58484-1bf5-4c42-ba72-2a53bbf67581	f45d2396-3e72-4ec7-b892-7bd454248158
0196125a-2c3e-7bc4-8dd4-5eeeff3ebc2b	c9eb182b-1c3e-4c3b-8c3e-1c3e4c3b8c3e
019612aa-c914-7445-82d7-e451806895bb	f47ac10b-58cc-4372-a567-0e02b2c3d479
\.


--
-- Data for Name: AspNetUsers; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public."AspNetUsers" ("Id", "UserDataCreate", "UserName", "NormalizedUserName", "Email", "NormalizedEmail", "EmailConfirmed", "PasswordHash", "SecurityStamp", "ConcurrencyStamp", "PhoneNumber", "PhoneNumberConfirmed", "TwoFactorEnabled", "LockoutEnd", "LockoutEnabled", "AccessFailedCount") FROM stdin;
33b58484-1bf5-4c42-ba72-2a53bbf67581	2025-04-07 20:34:02.208429+00	admin	ADMIN	admin@admin.com	ADMIN@ADMIN.COM	t	AQAAAAIAAYagAAAAEDAflT7y8miLvkMRoQzUwPtEZdPNY4F6ovKJDKCWpOnEfbr8CDDrjFXVU/gkUawR5w==	CJQGS6WHCU7GUHDG7VQF56UU6YK2YL4W	4c125882-5b6f-44bd-b7ed-b7aceb40d048	\N	f	f	\N	t	0
0196125a-2c3e-7bc4-8dd4-5eeeff3ebc2b	2025-04-07 22:23:41.511527+00	curator@curator.com	CURATOR@CURATOR.COM	curator@curator.com	CURATOR@CURATOR.COM	t	AQAAAAIAAYagAAAAEP8gLY3ZDpJUkVmA9i24FRQJqYV2IMHE4trRtAqfrXTuIEcen53v8gC3TW/2/Mj8Mg==	3C2KGRQ3OCITZBJ4UEXFHBUTB334224T	60d4ef1d-ebf6-4ade-81e4-d76d7bfd9311	\N	f	f	\N	t	0
019612aa-c914-7445-82d7-e451806895bb	2025-04-07 23:51:44.545638+00	user@example.com	USER@EXAMPLE.COM	user@example.com	USER@EXAMPLE.COM	t	AQAAAAIAAYagAAAAEKj2TkMC+/EHZbTUNIzGCStp9Iq7Xzsf6KUsd7kQ33NYqwEwlnz3dqAfDVShHBKDMQ==	ZJVH5ZMPLVYPRPZTB3WSTB4VQKP6RRTR	ce9b13c9-9b56-482a-8720-566dec4ca3f8	\N	f	f	\N	t	0
\.


--
-- Data for Name: __EFMigrationsHistory; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public."__EFMigrationsHistory" ("MigrationId", "ProductVersion") FROM stdin;
20250407200419_Init	9.0.2
\.


--
-- Data for Name: blocks_materials; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.blocks_materials (bm_id, block, material, bm_date_create, note, duration) FROM stdin;
\.


--
-- Data for Name: blocks_tasks; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.blocks_tasks (task_id, task_name, task_date_created, duration, block, link, task_number_of_block, description) FROM stdin;
\.


--
-- Data for Name: courses; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.courses (course_id, course_name, course_data_create, description, link, author) FROM stdin;
\.


--
-- Data for Name: courses_blocks; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.courses_blocks (block_id, block_name, block_date_created, course, description, block_number_of_course) FROM stdin;
\.


--
-- Data for Name: material_type; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.material_type (type_id, type_name) FROM stdin;
\.


--
-- Data for Name: materials; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.materials (material_id, material_name, material_date_create, link, type, description) FROM stdin;
\.


--
-- Data for Name: study_states; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.study_states (state_id, state_name) FROM stdin;
\.


--
-- Data for Name: tasks_practice; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.tasks_practice (practice_id, practice_name, practice_date_created, duration, link, task, number_practice_of_task) FROM stdin;
\.


--
-- Data for Name: users; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.users (user_id, user_surname, user_name, user_patronymic, is_first) FROM stdin;
33b58484-1bf5-4c42-ba72-2a53bbf67581	admin	admin	\N	f
0196125a-2c3e-7bc4-8dd4-5eeeff3ebc2b	Куратор	Куратор	Куратор	f
019612aa-c914-7445-82d7-e451806895bb	user	user		f
\.


--
-- Data for Name: users_courses; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.users_courses (cu_id, "CourseId", "UserId") FROM stdin;
\.


--
-- Data for Name: users_tasks; Type: TABLE DATA; Schema: public; Owner: admin
--

COPY public.users_tasks (ut_id, auth_user, task, practice, material, status, date_start, duration_task, duration_practice, duration_material) FROM stdin;
\.


--
-- Name: material_type_type_id_seq; Type: SEQUENCE SET; Schema: public; Owner: admin
--

SELECT pg_catalog.setval('public.material_type_type_id_seq', 1, false);


--
-- Name: study_states_state_id_seq; Type: SEQUENCE SET; Schema: public; Owner: admin
--

SELECT pg_catalog.setval('public.study_states_state_id_seq', 1, false);


--
-- Name: AspNetRoles PK_AspNetRoles; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public."AspNetRoles"
    ADD CONSTRAINT "PK_AspNetRoles" PRIMARY KEY ("Id");


--
-- Name: AspNetUserRoles PK_AspNetUserRoles; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public."AspNetUserRoles"
    ADD CONSTRAINT "PK_AspNetUserRoles" PRIMARY KEY ("UserId", "RoleId");


--
-- Name: AspNetUsers PK_AspNetUsers; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public."AspNetUsers"
    ADD CONSTRAINT "PK_AspNetUsers" PRIMARY KEY ("Id");


--
-- Name: __EFMigrationsHistory PK___EFMigrationsHistory; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public."__EFMigrationsHistory"
    ADD CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId");


--
-- Name: courses_blocks pk_block; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.courses_blocks
    ADD CONSTRAINT pk_block PRIMARY KEY (block_id);


--
-- Name: blocks_materials pk_blocks_materials; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.blocks_materials
    ADD CONSTRAINT pk_blocks_materials PRIMARY KEY (bm_id);


--
-- Name: courses pk_course; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.courses
    ADD CONSTRAINT pk_course PRIMARY KEY (course_id);


--
-- Name: materials pk_material; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.materials
    ADD CONSTRAINT pk_material PRIMARY KEY (material_id);


--
-- Name: material_type pk_material_type; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.material_type
    ADD CONSTRAINT pk_material_type PRIMARY KEY (type_id);


--
-- Name: tasks_practice pk_practice; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.tasks_practice
    ADD CONSTRAINT pk_practice PRIMARY KEY (practice_id);


--
-- Name: study_states pk_state_type; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.study_states
    ADD CONSTRAINT pk_state_type PRIMARY KEY (state_id);


--
-- Name: blocks_tasks pk_task; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.blocks_tasks
    ADD CONSTRAINT pk_task PRIMARY KEY (task_id);


--
-- Name: users pk_user; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT pk_user PRIMARY KEY (user_id);


--
-- Name: users_courses pk_users_courses; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.users_courses
    ADD CONSTRAINT pk_users_courses PRIMARY KEY (cu_id);


--
-- Name: users_tasks pk_ut; Type: CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.users_tasks
    ADD CONSTRAINT pk_ut PRIMARY KEY (ut_id);


--
-- Name: EmailIndex; Type: INDEX; Schema: public; Owner: admin
--

CREATE INDEX "EmailIndex" ON public."AspNetUsers" USING btree ("NormalizedEmail");


--
-- Name: IX_AspNetUserRoles_RoleId; Type: INDEX; Schema: public; Owner: admin
--

CREATE INDEX "IX_AspNetUserRoles_RoleId" ON public."AspNetUserRoles" USING btree ("RoleId");


--
-- Name: IX_blocks_materials_block; Type: INDEX; Schema: public; Owner: admin
--

CREATE INDEX "IX_blocks_materials_block" ON public.blocks_materials USING btree (block);


--
-- Name: IX_blocks_materials_material; Type: INDEX; Schema: public; Owner: admin
--

CREATE INDEX "IX_blocks_materials_material" ON public.blocks_materials USING btree (material);


--
-- Name: IX_blocks_tasks_block; Type: INDEX; Schema: public; Owner: admin
--

CREATE INDEX "IX_blocks_tasks_block" ON public.blocks_tasks USING btree (block);


--
-- Name: IX_courses_author; Type: INDEX; Schema: public; Owner: admin
--

CREATE INDEX "IX_courses_author" ON public.courses USING btree (author);


--
-- Name: IX_courses_blocks_course; Type: INDEX; Schema: public; Owner: admin
--

CREATE INDEX "IX_courses_blocks_course" ON public.courses_blocks USING btree (course);


--
-- Name: IX_materials_type; Type: INDEX; Schema: public; Owner: admin
--

CREATE INDEX "IX_materials_type" ON public.materials USING btree (type);


--
-- Name: IX_tasks_practice_task; Type: INDEX; Schema: public; Owner: admin
--

CREATE INDEX "IX_tasks_practice_task" ON public.tasks_practice USING btree (task);


--
-- Name: IX_users_courses_CourseId; Type: INDEX; Schema: public; Owner: admin
--

CREATE INDEX "IX_users_courses_CourseId" ON public.users_courses USING btree ("CourseId");


--
-- Name: IX_users_courses_UserId; Type: INDEX; Schema: public; Owner: admin
--

CREATE INDEX "IX_users_courses_UserId" ON public.users_courses USING btree ("UserId");


--
-- Name: IX_users_tasks_auth_user; Type: INDEX; Schema: public; Owner: admin
--

CREATE INDEX "IX_users_tasks_auth_user" ON public.users_tasks USING btree (auth_user);


--
-- Name: IX_users_tasks_material; Type: INDEX; Schema: public; Owner: admin
--

CREATE INDEX "IX_users_tasks_material" ON public.users_tasks USING btree (material);


--
-- Name: IX_users_tasks_practice; Type: INDEX; Schema: public; Owner: admin
--

CREATE INDEX "IX_users_tasks_practice" ON public.users_tasks USING btree (practice);


--
-- Name: IX_users_tasks_status; Type: INDEX; Schema: public; Owner: admin
--

CREATE INDEX "IX_users_tasks_status" ON public.users_tasks USING btree (status);


--
-- Name: IX_users_tasks_task; Type: INDEX; Schema: public; Owner: admin
--

CREATE INDEX "IX_users_tasks_task" ON public.users_tasks USING btree (task);


--
-- Name: RoleNameIndex; Type: INDEX; Schema: public; Owner: admin
--

CREATE UNIQUE INDEX "RoleNameIndex" ON public."AspNetRoles" USING btree ("NormalizedName");


--
-- Name: UserNameIndex; Type: INDEX; Schema: public; Owner: admin
--

CREATE UNIQUE INDEX "UserNameIndex" ON public."AspNetUsers" USING btree ("NormalizedUserName");


--
-- Name: AspNetUserRoles FK_AspNetUserRoles_AspNetRoles_RoleId; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public."AspNetUserRoles"
    ADD CONSTRAINT "FK_AspNetUserRoles_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES public."AspNetRoles"("Id") ON DELETE CASCADE;


--
-- Name: AspNetUserRoles FK_AspNetUserRoles_AspNetUsers_UserId; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public."AspNetUserRoles"
    ADD CONSTRAINT "FK_AspNetUserRoles_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES public."AspNetUsers"("Id") ON DELETE CASCADE;


--
-- Name: users FK_users_AspNetUsers_user_id; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT "FK_users_AspNetUsers_user_id" FOREIGN KEY (user_id) REFERENCES public."AspNetUsers"("Id") ON DELETE CASCADE;


--
-- Name: blocks_materials fk_bm_blocks; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.blocks_materials
    ADD CONSTRAINT fk_bm_blocks FOREIGN KEY (block) REFERENCES public.courses_blocks(block_id) ON DELETE CASCADE;


--
-- Name: blocks_tasks fk_bm_blocks; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.blocks_tasks
    ADD CONSTRAINT fk_bm_blocks FOREIGN KEY (block) REFERENCES public.courses_blocks(block_id) ON DELETE CASCADE;


--
-- Name: blocks_materials fk_bm_materials; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.blocks_materials
    ADD CONSTRAINT fk_bm_materials FOREIGN KEY (material) REFERENCES public.materials(material_id) ON DELETE CASCADE;


--
-- Name: courses_blocks fk_courses_blocks; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.courses_blocks
    ADD CONSTRAINT fk_courses_blocks FOREIGN KEY (course) REFERENCES public.courses(course_id) ON DELETE CASCADE;


--
-- Name: users_courses fk_cu_courses; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.users_courses
    ADD CONSTRAINT fk_cu_courses FOREIGN KEY ("CourseId") REFERENCES public.courses(course_id) ON DELETE CASCADE;


--
-- Name: users_courses fk_cu_users; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.users_courses
    ADD CONSTRAINT fk_cu_users FOREIGN KEY ("UserId") REFERENCES public.users(user_id) ON DELETE CASCADE;


--
-- Name: materials fk_materials_types; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.materials
    ADD CONSTRAINT fk_materials_types FOREIGN KEY (type) REFERENCES public.material_type(type_id) ON DELETE CASCADE;


--
-- Name: tasks_practice fk_practice_task; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.tasks_practice
    ADD CONSTRAINT fk_practice_task FOREIGN KEY (task) REFERENCES public.blocks_tasks(task_id) ON DELETE CASCADE;


--
-- Name: courses fk_user_course; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.courses
    ADD CONSTRAINT fk_user_course FOREIGN KEY (author) REFERENCES public.users(user_id) ON DELETE CASCADE;


--
-- Name: users_tasks fk_users_tasks_material; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.users_tasks
    ADD CONSTRAINT fk_users_tasks_material FOREIGN KEY (material) REFERENCES public.blocks_materials(bm_id) ON DELETE CASCADE;


--
-- Name: users_tasks fk_users_tasks_practice; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.users_tasks
    ADD CONSTRAINT fk_users_tasks_practice FOREIGN KEY (practice) REFERENCES public.tasks_practice(practice_id) ON DELETE CASCADE;


--
-- Name: users_tasks fk_users_tasks_status; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.users_tasks
    ADD CONSTRAINT fk_users_tasks_status FOREIGN KEY (status) REFERENCES public.study_states(state_id) ON DELETE CASCADE;


--
-- Name: users_tasks fk_users_tasks_task; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.users_tasks
    ADD CONSTRAINT fk_users_tasks_task FOREIGN KEY (task) REFERENCES public.blocks_tasks(task_id) ON DELETE CASCADE;


--
-- Name: users_tasks fk_users_tasks_user; Type: FK CONSTRAINT; Schema: public; Owner: admin
--

ALTER TABLE ONLY public.users_tasks
    ADD CONSTRAINT fk_users_tasks_user FOREIGN KEY (auth_user) REFERENCES public.users(user_id) ON DELETE CASCADE;


--
-- Name: SCHEMA public; Type: ACL; Schema: -; Owner: admin
--

REVOKE USAGE ON SCHEMA public FROM PUBLIC;


--
-- PostgreSQL database dump complete
--

